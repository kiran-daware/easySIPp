<!-- run_script_template.html -->

<!DOCTYPE html>
<html>
<head>
    <title>Run Scripts</title>
</head>
<body>
    <h3>Run Scripts</h3>
    <div class="menubar" style="margin: 10px;">
        <a style="padding: 10px;" href="/">Home</a>
        <a style="padding: 10px;" href="/run-script">Run Scripts</a>
        <a style="padding: 10px;" href="/modify-xml">Modify Xml</a>
    </div>

    UAC Command: <b> {{ print_uac_command }}</b>
    <br />
    UAS Command: <b> {{ print_uas_command }} </b>
    <br /><br />

    <form method="post" action="{% url 'run-script' %}" style="float: left; margin-right: 50px;">
        {% csrf_token %}
        <input type="hidden" name="script" value="UAS">
        <input type="submit" value="Run UAS">
    </form>

    <form method="post" action="{% url 'run-script' %}" style="float: left; margin-right: 50px;">
        {% csrf_token %}
        <input type="hidden" name="script" value="UAC">
        <input type="submit" value="Run UAC">
    </form>
    
    <div style="clear:both; max-width: 800px; padding-top: 20px;">    
    {{ sipp_error }}
    </div>

    <div style="clear:both;"></div>
    <h3>Running SipP Processes:</h3>
    {% if sipp_processes %}
        <ul>
            {% for process in sipp_processes %}
                <li>
                    pid: {{ process.pid }}, {{ process.command_line }}, {{ process.script_name }}
                    
                    <form method="post" action="" target="_blank">
                        {% csrf_token %}
                        <input type="hidden" name="script_name" value="{{ process.script_name}}">
                        <input type="hidden" name="pid_to_kill" value="{{ process.pid }}">
                        <input type="submit" name="send_signal" value="Kill">
                        <input type ="submit" name="send_signal" value="CheckOutput">
                    </form>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No SipP processes currently running.</p>
    {% endif %}

    <!-- Add more forms for other scripts as needed -->

</body>
</html>
